<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>سجل العمليات</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container my-5">
    <h3 class="text-center mb-4">سجل العمليات المحفوظة</h3>

    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead class="table-dark text-center">
          <tr>
            <th>#</th>
            <th>البوليصة</th>
            <th>المرسل</th>
            <th>المرسل إليه</th>
            <th>النوع</th>
            <th>الوزن</th>
            <th>الشحن</th>
            <th>العمولة</th>
            <th>الإجمالي</th>
            <th>التحصيل</th>
            <th>التوريد</th>
            <th>الربح</th>
            <th>التاريخ</th>
          </tr>
        </thead>
        <tbody>
          <% reports.forEach((report, index) => { %>
            <tr style=`background-color: <%= report.typeColor %>20`>
              <td><%= index + 1 %></td>
              <td><%= report.waybill %></td>
              <td><%= report.sender %></td>
              <td><%= report.receiver %></td>
              <td><%= report.type %></td>
              <td><%= report.weight %></td>
              <td><%= report.shipping.toFixed(2) %></td>
              <td><%= report.commission.toFixed(2) %></td>
              <td><%= report.total.toFixed(2) %></td>
              <td><%= report.collectionName.toFixed(2) %></td>
              <td><%= report.supply.toFixed(2) %></td>
              <td><%= report.profit.toFixed(2) %></td>
              <td><%= new Date(report.createdAt).toLocaleString('ar-EG') %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
